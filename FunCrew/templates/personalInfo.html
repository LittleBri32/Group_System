<!DOCTYPE html>
<html>

<head>
    <title>é¦–é </title>
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <style>
        body{
            background-color: #D9D9D9;;
            margin: 0px;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }
        a{
            text-decoration: none;
            color: black;
        }
        a:hover{
            color: red;
            text-decoration: underline;
        }
        
        .header ul{
            display: flex;
            list-style: none;
        }
        .header li{
            font-weight: bold;
            margin-right: 16px;
            border: none;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #ffb8d1;
            height: 100px;
            width: 100%;
            top: 0px;
        }

        .header-right {
            display: flex;
            align-items: center;
            margin-right: 10px;
        }

        .button {
            margin-right: 16px;
            border: none;
        }

        /*æ“ºæ”¾å¤§é ­è²¼æ·»åŠ çš„*/
        .user-info {
            display: flex;
            align-items: center;
        }

        .user-info h4 {
            margin-right: 8px;
        }

        .user-info img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }

        /*æ“ºæ”¾å¤§é ­è²¼æ·»åŠ çš„*/

        /*å€‹äººè³‡æ–™ç…§*/
        .profile-picture {
            width: 250px;
            height: 250px;
            object-fit: cover;
        }

        /* å¤–éƒ¨å¤§æ–¹æ¡† */
        .container {
            display: flex;
            justify-content:center;
        }

        /* å·¦å´æ¨£å¼ */
        .left-column {
            padding: 20px;
        }

        /* å³å´æ¨£å¼ */
        .right-column {
            padding: 20px;
        }

        /* æ ¹æ“šè¦–çª—å¤§å°ç¸®æ”¾ */
        @media (max-width: 600px) {
            .container {
                flex-direction: column;
            }

            .left-column,
            .right-column {
                flex: none;
            }
        }
    </style>
</head>

<script>
    function previewImage(event) {
        var reader = new FileReader();
        reader.onload = function () {
            var preview = document.getElementById('imagePreview');
            preview.src = reader.result;
        }
        reader.readAsDataURL(event.target.files[0]);
    }
</script>

<body>
    <div class="header">
        <ul>
            <li><a href="/home"> ğŸ¥‚ </a></li>
            <li><a href="/activity/activities/signingUp">æ´»å‹•</a></li>
            <li><a href="/post/posts/newest">è²¼æ–‡</a></li>
        </ul>
        <div class="header-right">
            <li style="list-style: none;"><a href="/user/logout">ç™»å‡º</a></li>
            <div class="user-info">
                <h4><a href="/user/personalInfo">{{ nickname }}</a></h4></button>
                <img src="{{ url_for('static', filename='images/avatars/' + user_image[0]) }}" alt="å¤§é ­è²¼">
            </div>
        </div>
    </div>

    <div class="container">
        <div class="left-column">
            <h1>å€‹äººè³‡æ–™</h1>
            <img class="profile-picture" src="{{ url_for('static', filename='images/avatars/' + user_image[0]) }}"
                alt="å¤§é ­è²¼">
            <form method="POST" action="{{ url_for('user.upload_photo') }}" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="image">ä¸Šå‚³ç…§ç‰‡</label>

                    <input type="file" id="image" name="image" onchange="previewImage(event)"><br>
                    <img id="imagePreview" src="#" alt="ä½ è¦ä¿®æ”¹çš„é ­è²¼å°šæœªä¸Šå‚³" style="max-width: 200px; max-height: 200px;"><br>


                    <!-- <input type="file" class="form-control-file" id="photo" name="photo" required> -->
                </div>
                <input type="submit" value="ä¸Šå‚³" class="btn btn-primary">
            </form>
            <p>æš±ç¨±: {{ nickname }}</p>
            <p>éƒµä»¶: {{ person[6] }}</p>
            <p>ç”Ÿæ—¥: {{ person[4] }}</p>
            <p>å¹´é½¡: {{ now_year-birth_year }}</p>
            <p>æ€§åˆ¥: {{ person[3] }}</p>
            <p>é›»è©±: {{ person[5] }}</p>
            <p>è©•åˆ†: {{ score }} / 5.0</p>

            <!-- ä¿®æ”¹å€‹äººè³‡æ–™è¡¨å–® -->
            <button><a href="/user/update_personalInfo">ä¿®æ”¹å€‹äººè³‡æ–™</a></button>
            <!-- personalInfo.html -->
        </div>

        <div class="right-column">
            <h2>ç™¼å¸ƒéçš„è²¼æ–‡</h2>
            <ul>
                {% for post in posts %}
                <li><a href="/post/posts/{{ post[0] }}">{{ post[1] }}</a></li>
                {% endfor %}
            </ul>
            <h2>ç™¼èµ·çš„æ´»å‹•</h2>
            <ul>
                {% for activity in activities %}
                <li><a href="/activity/activities/activity_detail/{{activity[0]}}">{{ activity[1] }}</a></li>
                {% endfor %}
            </ul>
            <h2>åƒåŠ çš„æ´»å‹•</h2>
            <ul>
                {% for participant in participants %}
                <li><a href="/activity/activities/activity_detail/{{participant[0]}}">{{ participant[1] }}</a></li>
                {% endfor %}
            </ul>


        </div>

</body>

</html>